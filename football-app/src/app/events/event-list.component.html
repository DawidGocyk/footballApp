<div class="container">
  <nav-bar
    [displayedMatches]="displayedMatches"
    (filteredMatches)="filterMatches($event)"
  ></nav-bar>
  <div>
    <h2>
      Upcoming Real Madrid Matches
      <span style="position: absolute; right: 0;"
        ><prediction-modal></prediction-modal
      ></span>
    </h2>
  </div>
  <hr />
  <!-- <a [routerLink]="['/posts/new']" routerLinkActive="active">Create Post</a> -->

  <div class="dropdown">
    <button
      class="btn btn-primary dropdown-toggle"
      type="button"
      id="dropdownMenu2"
      data-toggle="dropdown"
      aria-haspopup="true"
      aria-expanded="false"
    >
      Filters
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
      <button
        class="dropdown-item"
        (click)="filterBy('Real Madrid CF')"
        type="button"
      >
        Real at home
      </button>
      <button class="dropdown-item" (click)="sortByLastUpdate()" type="button">
        Last Updated
      </button>
      <button class="dropdown-item" (click)="resetFilters()" type="button">
        Reset Filters
      </button>
    </div>
  </div>
  <hr />
  <div>
    <div class="card">
      <div *ngFor="let match of displayedMatches">
        <div class="card-header">{{ match.competition.name | uppercase }}</div>
        <!-- <h2>{{ match.competition.name | uppercase }}</h2> -->
        <h3>
          <a [routerLink]="['/posts', match.id]">
            {{ match.homeTeam.name }} Vs {{ match.awayTeam.name }}</a
          >
          <div *ngFor="let predictions of userPredictions">
            <div *ngIf="predictions.id === match.id">
              <span>Your predictions is </span>
              <span winner>{{ predictions.winner }}</span>
            </div>
          </div>
        </h3>
        <div>Match Date : {{ match.utcDate | date: "short" }}</div>
        <!-- <div>Away Team :{{ match.id }}</div> -->
        <!-- <div>Home Team : {{ match.homeTeam.name }}</div>
      <div>Away Team : match.awayTeam.name</div> -->
        <div>Last Updated Date : {{ match.lastUpdated | date: "short" }}</div>
        <hr />
      </div>
    </div>
  </div>
</div>
